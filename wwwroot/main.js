(()=>{"use strict";var e,o="prod",n=((e={}).sandbox="https://sandbox-merchant.revolut.com/embed.js",e.prod="https://merchant.revolut.com/embed.js",e.dev="https://merchant.revolut.codes/embed.js",e),t=null;function r(e,o,c){if(void 0===o&&(o=r.mode),t){var u=t({publicToken:e,locale:c});return Promise.resolve(u)}var l=document.createElement("script");return l.id="revolut-payments",l.src=n[o],l.async=!0,document.head.appendChild(l),new Promise((function(o,n){function r(){document.head.removeChild(l),n(new Error("'RevolutPayments' failed to load"))}l.onload=function(){"function"==typeof RevolutCheckout?(o(RevolutCheckout.payments({publicToken:e,locale:c})),t=RevolutCheckout.payments,delete window.RevolutCheckout):r()},l.onerror=r}))}r.mode=o;var c=null;function u(e,o){if(void 0===o&&(o=u.mode),c)return c(e);var t=document.createElement("script");return t.id="revolut-checkout",t.src=n[o],t.async=!0,document.head.appendChild(t),new Promise((function(o,n){function r(){document.head.removeChild(t),n(new Error("'RevolutCheckout' is failed to load"))}t.onload=function(){"function"==typeof RevolutCheckout?(o(RevolutCheckout(e)),c=RevolutCheckout,delete window.RevolutCheckout):r()},t.onerror=r}))}u.mode=o,u.payments=function(e){var o=e.locale,n=e.publicToken,t=e.mode;return r(n,void 0===t?u.mode:t,o)},console.log("in index.js before importing revolut"),document.body.appendChild(async function(){console.log("in index.js inside component");const{revolutPay:e}=await u.payments({local:"en",mode:"sandbox",publicToken:"pk_xvYW2jXVjl6uIECsoMotSc58HZNEIwl2X5DUugsLOrprGVf1"});console.log("in index.js after importing revolut");const o={currency:"GBP",totalAmount:908,createOrder:async()=>{const e=await async function(){console.log("in index.js create async function"),console.log("in index.js making ajax call"),$.ajax({url:"/revolut/create",data:JSON.stringify({amount:5,captureMode:0,merchantOrderExtRef:"myOrderRef1",customerEmail:"nasarathkhan@gmail.com",description:"FP Purchase",currency:"GBP",settlementCurrency:"GBP",merchantCustomerExtRef:"myOrderRef1"}),contentType:"application/json",type:"POST",success:function(e){return alert(JSON.stringify(e.value.publicId)),e},error:function(e){alert("error")}})}();var o=JSON.stringify(e.value.publicId);return alert(o),{publicId:o}}};console.log("in index.js get element ID");let n=document.getElementById("revolut-pay2.0");console.log("in index.js mount the button"),e.mount(n,o)}())})();